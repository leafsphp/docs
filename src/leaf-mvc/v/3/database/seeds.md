# Seeds <sup class="new-tag-1">New</sup>

leaf MVC includes the ability to seed your database with test data using seed classes. All seed classes are stored in the `App/Database/Seeds` directory. By default, a `DatabaseSeeder` class is defined for you. From this class, you simply return the seed classes you want to run in your prefered order.

<p class="alert -warning">
  Aloe CLI introduces extensive support for seeds hence, you no longer have to work with seeds manually.
</p>

## Creating Seeds

To generate a seeder, execute the `g:seed` Aloe command. All seeds generated by the framework will be placed in the `App/Database/Seeds` directory:

```sh
php leaf g:seed UsersSeeder
```

Aloe is smart, you don't need to type the whole `UsersSeeder`, just `Users` is fine.

```sh
php leaf g:seed Users
```

A seeder class only contains one method by default: `run`. This method is called when the `db:seed` command is executed. Within the run method, you may insert data into your database however you wish. You may use the query builder to manually insert data or you may use Aloe factories.

As an example, let's modify the default `DatabaseSeeder` class and add a database insert statement to the `run` method:

```php
<?php

<?php
namespace App\Database\Seeds;

use Illuminate\Database\Seeder;
use App\Models\User;

class UsersSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        $user = new User();
        $user->name = 'Mychi';
        $user->email = "mickdd22@gmail.com";
        $user->password = password_hash("password.demo", PASSWORD_DEFAULT);
        $user->save();
    }
}
```

### Calling Additional Seeders

Within the `DatabaseSeeder` class, you may return an array of additional seed classes to call. Using this method allows you to break up your database seeding into multiple files so that no single seeder class becomes too large.

```php
/**
 * Seed the application's database.
 *
 * @return void
 */
public function run() : array
{
    return [
        UsersSeeder::class,
        PostSeeder::class,
        CommentSeeder::class,
    ];
}

```

### Using Factories

Of course, manually specifying the attributes for each model seed is cumbersome. Instead, you can use aloe factories to conveniently generate large amounts of database records. First, review the [factory documentation](/leaf-mvc/v/2.0/database/factories) to learn how to define your factories.

This example below uses the defined factory to create 30 random users:

```php
<?php
namespace App\Database\Seeds;

use App\Database\Factories\UserFactory;
use Illuminate\Database\Seeder;

class UsersSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        (new UserFactory)->create(30)->save();
    }
}
```

## Running Seeders

To run your seeds, you simply need to run the `db:seed` command. This command will run the `DatabaseSeeder` class, therefore, you can add classes to the `DatabaseSeeder` to run them.

```sh
php leaf db:seed
```

## Next Steps

- [Factories](/leaf/v/2.4.3/database/factories)
- [Migrations](/leaf-mvc/v/2.0/database/migrations)

Built with ‚ù§ by [**Mychi Darko**](//mychi.netlify.app)
